var $=jQuery,wcPvPhoneErrorMap=wcPvJson.validationErrors;0==$(".wc-pv-intl input").length&&$("#billing_phone_field").addClass("wc-pv-phone wc-pv-intl");var wcPvDefCountry=""===wcPvJson.defaultCountry?$(`${wcPvJson.parentPage} #billing_country`).val():wcPvJson.defaultCountry,wcPvPhoneIntl=$(".wc-pv-intl input").intlTelInput({initialCountry:""==wcPvDefCountry?"ng":wcPvDefCountry,onlyCountries:wcPvJson.onlyCountries,separateDialCode:1==wcPvJson.separateDialCode,utilsScript:wcPvJson.utilsScript}),wcPvphoneErrMsg="";function wcPvValidatePhone(n){const e=n;let t=!1;if(1==e.intlTelInput("isValidNumber"))t=e.intlTelInput("getNumber");else{let n=e.intlTelInput("getValidationError");wcPvphoneErrMsg=`Phone validation error: ${void 0==wcPvPhoneErrorMap[n]?"Internal Error":wcPvPhoneErrorMap[n]}`}return t}function wcPvValidateProcess(n){let e=wcPvValidatePhone(wcPvPhoneIntl);0!=$(".wc-pv-intl input").length&&(0!=e?($(`${wcPvJson.parentPage} input#billing_phone`).val(e),0==$("#wc-ls-phone-valid-field").length&&n.append(`<input id="wc-ls-phone-valid-field" value="${e}" type="hidden" name="${wcPvJson.phoneValidatorName}">`),$("#wc-ls-phone-valid-field-err-msg").remove()):(0==$("#wc-ls-phone-valid-field-err-msg").length&&n.append(`<input id="wc-ls-phone-valid-field-err-msg" value="${wcPvphoneErrMsg}" type="hidden" name="${wcPvJson.phoneValidatorErrName}">`),$("#wc-ls-phone-valid-field").remove()))}if($(`${wcPvJson.parentPage} #billing_country`).change(function(){wcPvPhoneIntl.intlTelInput("setCountry",$(this).val())}),"checkout"==wcPvJson.currentPage){let n=$(`${wcPvJson.parentPage}`);n.on("checkout_place_order",function(){wcPvValidateProcess(n)})}else if("account"==wcPvJson.currentPage){let n=$(`${wcPvJson.parentPage} form`);$(`${wcPvJson.parentPage}`).submit(function(){wcPvValidateProcess(n)})}